<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
            <title>Bånder</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <base href="../">
    <link rel="icon" href="images/favicon.ico"/>
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/base.css">
            <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@100;200;300;400;600;700&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@400;600;700&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="css/template.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0/css/all.min.css" integrity="sha256-ybRkN9dBjhcS2qrW1z+hfCxq+1aBdwyQM5wlQoQVt/0=" crossorigin="anonymous" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/themes/prism-okaidia.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-numbers/prism-line-numbers.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-highlight/prism-line-highlight.css">
                <script src="https://cdn.jsdelivr.net/npm/fuse.js@3.4.6"></script>
        <script src="https://cdn.jsdelivr.net/npm/css-vars-ponyfill@2"></script>
        <script src="js/template.js"></script>
        <script src="js/search.js"></script>
        <script defer src="js/searchIndex.js"></script>
    </head>
<body id="top">
    <header class="phpdocumentor-header phpdocumentor-section">
    <h1 class="phpdocumentor-title"><a href="" class="phpdocumentor-title__link">Bånder</a></h1>
    <input class="phpdocumentor-header__menu-button" type="checkbox" id="menu-button" name="menu-button" />
    <label class="phpdocumentor-header__menu-icon" for="menu-button">
        <i class="fas fa-bars"></i>
    </label>
    <section data-search-form class="phpdocumentor-search">
    <label>
        <span class="visually-hidden">Search for</span>
        <svg class="phpdocumentor-search__icon" width="21" height="20" viewBox="0 0 21 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="7.5" cy="7.5" r="6.5" stroke="currentColor" stroke-width="2"/>
            <line x1="12.4892" y1="12.2727" x2="19.1559" y2="18.9393" stroke="currentColor" stroke-width="3"/>
        </svg>
        <input type="search" class="phpdocumentor-field phpdocumentor-search__field" placeholder="Loading .." disabled />
    </label>
</section>

    <nav class="phpdocumentor-topnav">
    <ul class="phpdocumentor-topnav__menu">
        </ul>
</nav>
</header>

    <main class="phpdocumentor">
        <div class="phpdocumentor-section">
            <input class="phpdocumentor-sidebar__menu-button" type="checkbox" id="sidebar-button" name="sidebar-button" />
<label class="phpdocumentor-sidebar__menu-icon" for="sidebar-button">
    Menu
</label>
<aside class="phpdocumentor-column -three phpdocumentor-sidebar">
                    <section class="phpdocumentor-sidebar__category -namespaces">
            <h2 class="phpdocumentor-sidebar__category-header">Namespaces</h2>
                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="namespaces/app.html" class="">App</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="namespaces/app-actions.html" class="">Actions</a>
                
            </li>
                    <li>
                <a href="namespaces/app-auth.html" class="">Auth</a>
                
            </li>
                    <li>
                <a href="namespaces/app-console.html" class="">Console</a>
                
            </li>
                    <li>
                <a href="namespaces/app-events.html" class="">Events</a>
                
            </li>
                    <li>
                <a href="namespaces/app-exceptions.html" class="">Exceptions</a>
                
            </li>
                    <li>
                <a href="namespaces/app-extensions.html" class="">Extensions</a>
                
            </li>
                    <li>
                <a href="namespaces/app-http.html" class="">Http</a>
                
            </li>
                    <li>
                <a href="namespaces/app-jobs.html" class="">Jobs</a>
                
            </li>
                    <li>
                <a href="namespaces/app-listeners.html" class="">Listeners</a>
                
            </li>
                    <li>
                <a href="namespaces/app-mail.html" class="">Mail</a>
                
            </li>
                    <li>
                <a href="namespaces/app-models.html" class="">Models</a>
                
            </li>
                    <li>
                <a href="namespaces/app-modules.html" class="">Modules</a>
                
            </li>
                    <li>
                <a href="namespaces/app-notifications.html" class="">Notifications</a>
                
            </li>
                    <li>
                <a href="namespaces/app-observers.html" class="">Observers</a>
                
            </li>
                    <li>
                <a href="namespaces/app-octane.html" class="">Octane</a>
                
            </li>
                    <li>
                <a href="namespaces/app-policies.html" class="">Policies</a>
                
            </li>
                    <li>
                <a href="namespaces/app-providers.html" class="">Providers</a>
                
            </li>
                    <li>
                <a href="namespaces/app-repositories.html" class="">Repositories</a>
                
            </li>
                    <li>
                <a href="namespaces/app-services.html" class="">Services</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="namespaces/database.html" class="">Database</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="namespaces/database-factories.html" class="">Factories</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="namespaces/baander.html" class="">Baander</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="namespaces/baander-redisstack.html" class="">RedisStack</a>
                
            </li>
                    <li>
                <a href="namespaces/baander-scoutredisearch.html" class="">ScoutRediSearch</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="namespaces/composer.html" class="">Composer</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="namespaces/composer-autoload.html" class="">Autoload</a>
                
            </li>
            </ul>

                        </section>
                <section class="phpdocumentor-sidebar__category -packages">
            <h2 class="phpdocumentor-sidebar__category-header">Packages</h2>
                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="packages/Application.html" class="">Application</a>
</h4>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="packages/support.html" class="">support</a>
</h4>

                        </section>
            
    <section class="phpdocumentor-sidebar__category -reports">
        <h2 class="phpdocumentor-sidebar__category-header">Reports</h2>
                <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/deprecated.html">Deprecated</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/errors.html">Errors</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/markers.html">Markers</a></h3>
    </section>

    <section class="phpdocumentor-sidebar__category -indices">
        <h2 class="phpdocumentor-sidebar__category-header">Indices</h2>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="indices/files.html">Files</a></h3>
    </section>
</aside>

            <div class="phpdocumentor-column -nine phpdocumentor-content">
                                <section>
                                        <ul class="phpdocumentor-breadcrumbs">
            <li class="phpdocumentor-breadcrumb"><a href="namespaces/app.html">App</a></li>
            <li class="phpdocumentor-breadcrumb"><a href="namespaces/app-modules.html">Modules</a></li>
            <li class="phpdocumentor-breadcrumb"><a href="namespaces/app-modules-ffmpeg.html">FFmpeg</a></li>
            <li class="phpdocumentor-breadcrumb"><a href="namespaces/app-modules-ffmpeg-exporters.html">Exporters</a></li>
    </ul>

    <article class="phpdocumentor-element -trait">
        <h2 class="phpdocumentor-content__title">
    EncryptsHLSSegments
    </h2>

        <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php"><a href="files/app-modules-ffmpeg-exporters-encryptshlssegments.html"><abbr title="app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php">EncryptsHLSSegments.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">11</span>

            <a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#source-view.11" class="phpdocumentor-element-found-in__source" data-line="11" data-modal="source-view" data-src="files/app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php.txt"></a>
    </aside>

        








<h3 id="toc">
    Table of Contents
    <a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#toc" class="headerlink"><i class="fas fa-link"></i></a>

</h3>









<h4 id="toc-properties">
    Properties
    <a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#toc-properties" class="headerlink"><i class="fas fa-link"></i></a>

</h4>
<dl class="phpdocumentor-table-of-contents">
            <dt class="phpdocumentor-table-of-contents__entry -property -private">
    <a class="" href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#property_encryptionIV">$encryptionIV</a>
    <span>
                        &nbsp;: string            </span>
</dt>
<dd>Encryption IV</dd>

            <dt class="phpdocumentor-table-of-contents__entry -property -private">
    <a class="" href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#property_encryptionKey">$encryptionKey</a>
    <span>
                        &nbsp;: string            </span>
</dt>
<dd>The encryption key.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -property -private">
    <a class="" href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#property_encryptionKeyFilename">$encryptionKeyFilename</a>
    <span>
                        &nbsp;: string            </span>
</dt>
<dd>The encryption key filename.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -property -private">
    <a class="" href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#property_encryptionSecretsRoot">$encryptionSecretsRoot</a>
    <span>
                        &nbsp;: mixed            </span>
</dt>
<dd>Disk to store the secrets.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -property -private">
    <a class="" href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#property_listener">$listener</a>
    <span>
                        &nbsp;: <a href="classes/App-Modules-FFmpeg-FFMpeg-StdListener.html"><abbr title="\App\Modules\FFmpeg\FFMpeg\StdListener">StdListener</abbr></a>            </span>
</dt>
<dd>Listener that will rotate the key.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -property -private">
    <a class="" href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#property_nextEncryptionFilenameAndKey">$nextEncryptionFilenameAndKey</a>
    <span>
                        &nbsp;: array&lt;string|int, mixed&gt;            </span>
</dt>
<dd>A fresh filename and encryption key for the next round.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -property -private">
    <a class="" href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#property_onNewEncryptionKey">$onNewEncryptionKey</a>
    <span>
                        &nbsp;: callable            </span>
</dt>
<dd>Gets called whenever a new encryption key is set.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -property -private">
    <a class="" href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#property_rotateEncryptiongKey">$rotateEncryptiongKey</a>
    <span>
                        &nbsp;: bool            </span>
</dt>
<dd>Wether to rotate the key on every segment.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -property -private">
    <a class="" href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#property_segmentsOpened">$segmentsOpened</a>
    <span>
                        &nbsp;: int            </span>
</dt>
<dd>Number of opened segments.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -property -private">
    <a class="" href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#property_segmentsPerKey">$segmentsPerKey</a>
    <span>
                        &nbsp;: int            </span>
</dt>
<dd>Number of segments that can use the same key.</dd>

    </dl>

<h4 id="toc-methods">
    Methods
    <a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#toc-methods" class="headerlink"><i class="fas fa-link"></i></a>

</h4>
<dl class="phpdocumentor-table-of-contents">
            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#method_generateEncryptionKey">generateEncryptionKey()</a>
    <span>
                                &nbsp;: string    </span>
</dt>
<dd>Creates a new encryption key.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#method_generateEncryptionKeyFilename">generateEncryptionKeyFilename()</a>
    <span>
                                &nbsp;: string    </span>
</dt>
<dd>Creates a new encryption key filename.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#method_withEncryptionKey">withEncryptionKey()</a>
    <span>
                                &nbsp;: <a href="classes/App-Modules-FFmpeg-Exporters-HLSExporter.html"><abbr title="\App\Modules\FFmpeg\Exporters\HLSExporter">HLSExporter</abbr></a>|<a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html"><abbr title="\App\Modules\FFmpeg\Exporters\EncryptsHLSSegments">EncryptsHLSSegments</abbr></a>    </span>
</dt>
<dd>Initialises the disk, info and IV for encryption and sets the key.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#method_withRotatingEncryptionKey">withRotatingEncryptionKey()</a>
    <span>
                                &nbsp;: <a href="classes/App-Modules-FFmpeg-Exporters-HLSExporter.html"><abbr title="\App\Modules\FFmpeg\Exporters\HLSExporter">HLSExporter</abbr></a>|<a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html"><abbr title="\App\Modules\FFmpeg\Exporters\EncryptsHLSSegments">EncryptsHLSSegments</abbr></a>    </span>
</dt>
<dd>Enables encryption with rotating keys. The callable will receive every new
key and the integer sets the number of segments that can
use the same key.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -private">
    <a class="" href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#method_addHandlerToRotateEncryptionKey">addHandlerToRotateEncryptionKey()</a>
    <span>
                                &nbsp;: void    </span>
</dt>
<dd>Adds a listener and handler to rotate the key on
every new HLS segment.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -private">
    <a class="" href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#method_cleanupHLSEncryption">cleanupHLSEncryption()</a>
    <span>
                                &nbsp;: <a href="classes/App-Modules-FFmpeg-Exporters-HLSExporter.html"><abbr title="\App\Modules\FFmpeg\Exporters\HLSExporter">HLSExporter</abbr></a>|<a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html"><abbr title="\App\Modules\FFmpeg\Exporters\EncryptsHLSSegments">EncryptsHLSSegments</abbr></a>    </span>
</dt>
<dd>Removes the encryption keys from the temporary disk.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -private">
    <a class="" href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#method_getEncrypedHLSParameters">getEncrypedHLSParameters()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Returns an array with the encryption parameters.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -private">
    <a class="" href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#method_removeHandlerThatRotatesEncryptionKey">removeHandlerThatRotatesEncryptionKey()</a>
    <span>
                                &nbsp;: <a href="classes/App-Modules-FFmpeg-Exporters-HLSExporter.html"><abbr title="\App\Modules\FFmpeg\Exporters\HLSExporter">HLSExporter</abbr></a>|<a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html"><abbr title="\App\Modules\FFmpeg\Exporters\EncryptsHLSSegments">EncryptsHLSSegments</abbr></a>    </span>
</dt>
<dd>Remove the listener at the end of the export to
prevent duplicate event handlers.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -private">
    <a class="" href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#method_replaceAbsolutePathsHLSEncryption">replaceAbsolutePathsHLSEncryption()</a>
    <span>
                                &nbsp;: <a href="classes/App-Modules-FFmpeg-Exporters-HLSExporter.html"><abbr title="\App\Modules\FFmpeg\Exporters\HLSExporter">HLSExporter</abbr></a>|<a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html"><abbr title="\App\Modules\FFmpeg\Exporters\EncryptsHLSSegments">EncryptsHLSSegments</abbr></a>    </span>
</dt>
<dd>While encoding, the encryption keys are saved to a temporary directory.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -private">
    <a class="" href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#method_rotateEncryptionKey">rotateEncryptionKey()</a>
    <span>
                                &nbsp;: string    </span>
</dt>
<dd>Rotates the key and returns the absolute path to the info file. This method
should be executed as fast as possible, or we might be too late for FFmpeg
opening the next segment. That&#039;s why we don&#039;t use the Disk-class magic.</dd>

    </dl>




        

        
    <section class="phpdocumentor-properties">
        <h3 class="phpdocumentor-elements__header" id="properties">
            Properties
            <a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#properties" class="headerlink"><i class="fas fa-link"></i></a>

        </h3>
                    <article
        class="
            phpdocumentor-element
            -property
            -private
                                                                    "
>
    <h4 class="phpdocumentor-element__name" id="property_encryptionIV">
        $encryptionIV
        <a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#property_encryptionIV" class="headerlink"><i class="fas fa-link"></i></a>

        <span class="phpdocumentor-element__modifiers">
                                            </span>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php"><a href="files/app-modules-ffmpeg-exporters-encryptshlssegments.html"><abbr title="app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php">EncryptsHLSSegments.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">44</span>

            <a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#source-view.44" class="phpdocumentor-element-found-in__source" data-line="44" data-modal="source-view" data-src="files/app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php.txt"></a>
    </aside>

        <p class="phpdocumentor-summary">Encryption IV</p>

    
    <code class="phpdocumentor-code phpdocumentor-signature ">
        <span class="phpdocumentor-signature__visibility">private</span>
            <span class="phpdocumentor-signature__type">string</span>
    <span class="phpdocumentor-signature__name">$encryptionIV</span>
    </code>

    
    
    

    

    

</article>
                    <article
        class="
            phpdocumentor-element
            -property
            -private
                                                                    "
>
    <h4 class="phpdocumentor-element__name" id="property_encryptionKey">
        $encryptionKey
        <a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#property_encryptionKey" class="headerlink"><i class="fas fa-link"></i></a>

        <span class="phpdocumentor-element__modifiers">
                                            </span>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php"><a href="files/app-modules-ffmpeg-exporters-encryptshlssegments.html"><abbr title="app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php">EncryptsHLSSegments.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">18</span>

            <a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#source-view.18" class="phpdocumentor-element-found-in__source" data-line="18" data-modal="source-view" data-src="files/app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php.txt"></a>
    </aside>

        <p class="phpdocumentor-summary">The encryption key.</p>

    
    <code class="phpdocumentor-code phpdocumentor-signature ">
        <span class="phpdocumentor-signature__visibility">private</span>
            <span class="phpdocumentor-signature__type">string</span>
    <span class="phpdocumentor-signature__name">$encryptionKey</span>
    </code>

    
    
    

    

    

</article>
                    <article
        class="
            phpdocumentor-element
            -property
            -private
                                                                    "
>
    <h4 class="phpdocumentor-element__name" id="property_encryptionKeyFilename">
        $encryptionKeyFilename
        <a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#property_encryptionKeyFilename" class="headerlink"><i class="fas fa-link"></i></a>

        <span class="phpdocumentor-element__modifiers">
                                            </span>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php"><a href="files/app-modules-ffmpeg-exporters-encryptshlssegments.html"><abbr title="app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php">EncryptsHLSSegments.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">25</span>

            <a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#source-view.25" class="phpdocumentor-element-found-in__source" data-line="25" data-modal="source-view" data-src="files/app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php.txt"></a>
    </aside>

        <p class="phpdocumentor-summary">The encryption key filename.</p>

    
    <code class="phpdocumentor-code phpdocumentor-signature ">
        <span class="phpdocumentor-signature__visibility">private</span>
            <span class="phpdocumentor-signature__type">string</span>
    <span class="phpdocumentor-signature__name">$encryptionKeyFilename</span>
    </code>

    
    
    

    

    

</article>
                    <article
        class="
            phpdocumentor-element
            -property
            -private
                                                                    "
>
    <h4 class="phpdocumentor-element__name" id="property_encryptionSecretsRoot">
        $encryptionSecretsRoot
        <a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#property_encryptionSecretsRoot" class="headerlink"><i class="fas fa-link"></i></a>

        <span class="phpdocumentor-element__modifiers">
                                            </span>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php"><a href="files/app-modules-ffmpeg-exporters-encryptshlssegments.html"><abbr title="app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php">EncryptsHLSSegments.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">37</span>

            <a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#source-view.37" class="phpdocumentor-element-found-in__source" data-line="37" data-modal="source-view" data-src="files/app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php.txt"></a>
    </aside>

        <p class="phpdocumentor-summary">Disk to store the secrets.</p>

    
    <code class="phpdocumentor-code phpdocumentor-signature ">
        <span class="phpdocumentor-signature__visibility">private</span>
            <span class="phpdocumentor-signature__type">mixed</span>
    <span class="phpdocumentor-signature__name">$encryptionSecretsRoot</span>
    </code>

    
    
    

    

    

</article>
                    <article
        class="
            phpdocumentor-element
            -property
            -private
                                                                    "
>
    <h4 class="phpdocumentor-element__name" id="property_listener">
        $listener
        <a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#property_listener" class="headerlink"><i class="fas fa-link"></i></a>

        <span class="phpdocumentor-element__modifiers">
                                            </span>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php"><a href="files/app-modules-ffmpeg-exporters-encryptshlssegments.html"><abbr title="app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php">EncryptsHLSSegments.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">72</span>

            <a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#source-view.72" class="phpdocumentor-element-found-in__source" data-line="72" data-modal="source-view" data-src="files/app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php.txt"></a>
    </aside>

        <p class="phpdocumentor-summary">Listener that will rotate the key.</p>

    
    <code class="phpdocumentor-code phpdocumentor-signature ">
        <span class="phpdocumentor-signature__visibility">private</span>
            <span class="phpdocumentor-signature__type"><a href="classes/App-Modules-FFmpeg-FFMpeg-StdListener.html"><abbr title="\App\Modules\FFmpeg\FFMpeg\StdListener">StdListener</abbr></a></span>
    <span class="phpdocumentor-signature__name">$listener</span>
    </code>

    
    
    

    

    

</article>
                    <article
        class="
            phpdocumentor-element
            -property
            -private
                                                                    "
>
    <h4 class="phpdocumentor-element__name" id="property_nextEncryptionFilenameAndKey">
        $nextEncryptionFilenameAndKey
        <a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#property_nextEncryptionFilenameAndKey" class="headerlink"><i class="fas fa-link"></i></a>

        <span class="phpdocumentor-element__modifiers">
                                            </span>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php"><a href="files/app-modules-ffmpeg-exporters-encryptshlssegments.html"><abbr title="app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php">EncryptsHLSSegments.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">79</span>

            <a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#source-view.79" class="phpdocumentor-element-found-in__source" data-line="79" data-modal="source-view" data-src="files/app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php.txt"></a>
    </aside>

        <p class="phpdocumentor-summary">A fresh filename and encryption key for the next round.</p>

    
    <code class="phpdocumentor-code phpdocumentor-signature ">
        <span class="phpdocumentor-signature__visibility">private</span>
            <span class="phpdocumentor-signature__type">array&lt;string|int, mixed&gt;</span>
    <span class="phpdocumentor-signature__name">$nextEncryptionFilenameAndKey</span>
    </code>

    
    
    

    

    

</article>
                    <article
        class="
            phpdocumentor-element
            -property
            -private
                                                                    "
>
    <h4 class="phpdocumentor-element__name" id="property_onNewEncryptionKey">
        $onNewEncryptionKey
        <a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#property_onNewEncryptionKey" class="headerlink"><i class="fas fa-link"></i></a>

        <span class="phpdocumentor-element__modifiers">
                                            </span>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php"><a href="files/app-modules-ffmpeg-exporters-encryptshlssegments.html"><abbr title="app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php">EncryptsHLSSegments.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">32</span>

            <a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#source-view.32" class="phpdocumentor-element-found-in__source" data-line="32" data-modal="source-view" data-src="files/app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php.txt"></a>
    </aside>

        <p class="phpdocumentor-summary">Gets called whenever a new encryption key is set.</p>

    
    <code class="phpdocumentor-code phpdocumentor-signature ">
        <span class="phpdocumentor-signature__visibility">private</span>
            <span class="phpdocumentor-signature__type">callable</span>
    <span class="phpdocumentor-signature__name">$onNewEncryptionKey</span>
    </code>

    
    
    

    

    

</article>
                    <article
        class="
            phpdocumentor-element
            -property
            -private
                                                                    "
>
    <h4 class="phpdocumentor-element__name" id="property_rotateEncryptiongKey">
        $rotateEncryptiongKey
        <a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#property_rotateEncryptiongKey" class="headerlink"><i class="fas fa-link"></i></a>

        <span class="phpdocumentor-element__modifiers">
                                            </span>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php"><a href="files/app-modules-ffmpeg-exporters-encryptshlssegments.html"><abbr title="app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php">EncryptsHLSSegments.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">51</span>

            <a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#source-view.51" class="phpdocumentor-element-found-in__source" data-line="51" data-modal="source-view" data-src="files/app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php.txt"></a>
    </aside>

        <p class="phpdocumentor-summary">Wether to rotate the key on every segment.</p>

    
    <code class="phpdocumentor-code phpdocumentor-signature ">
        <span class="phpdocumentor-signature__visibility">private</span>
            <span class="phpdocumentor-signature__type">bool</span>
    <span class="phpdocumentor-signature__name">$rotateEncryptiongKey</span>
     = <span class="phpdocumentor-signature__default-value">false</span></code>

    
    
    

    

    

</article>
                    <article
        class="
            phpdocumentor-element
            -property
            -private
                                                                    "
>
    <h4 class="phpdocumentor-element__name" id="property_segmentsOpened">
        $segmentsOpened
        <a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#property_segmentsOpened" class="headerlink"><i class="fas fa-link"></i></a>

        <span class="phpdocumentor-element__modifiers">
                                            </span>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php"><a href="files/app-modules-ffmpeg-exporters-encryptshlssegments.html"><abbr title="app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php">EncryptsHLSSegments.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">58</span>

            <a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#source-view.58" class="phpdocumentor-element-found-in__source" data-line="58" data-modal="source-view" data-src="files/app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php.txt"></a>
    </aside>

        <p class="phpdocumentor-summary">Number of opened segments.</p>

    
    <code class="phpdocumentor-code phpdocumentor-signature ">
        <span class="phpdocumentor-signature__visibility">private</span>
            <span class="phpdocumentor-signature__type">int</span>
    <span class="phpdocumentor-signature__name">$segmentsOpened</span>
     = <span class="phpdocumentor-signature__default-value">0</span></code>

    
    
    

    

    

</article>
                    <article
        class="
            phpdocumentor-element
            -property
            -private
                                                                    "
>
    <h4 class="phpdocumentor-element__name" id="property_segmentsPerKey">
        $segmentsPerKey
        <a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#property_segmentsPerKey" class="headerlink"><i class="fas fa-link"></i></a>

        <span class="phpdocumentor-element__modifiers">
                                            </span>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php"><a href="files/app-modules-ffmpeg-exporters-encryptshlssegments.html"><abbr title="app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php">EncryptsHLSSegments.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">65</span>

            <a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#source-view.65" class="phpdocumentor-element-found-in__source" data-line="65" data-modal="source-view" data-src="files/app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php.txt"></a>
    </aside>

        <p class="phpdocumentor-summary">Number of segments that can use the same key.</p>

    
    <code class="phpdocumentor-code phpdocumentor-signature ">
        <span class="phpdocumentor-signature__visibility">private</span>
            <span class="phpdocumentor-signature__type">int</span>
    <span class="phpdocumentor-signature__name">$segmentsPerKey</span>
     = <span class="phpdocumentor-signature__default-value">1</span></code>

    
    
    

    

    

</article>
            </section>

            <section class="phpdocumentor-methods">
        <h3 class="phpdocumentor-elements__header" id="methods">
            Methods
            <a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#methods" class="headerlink"><i class="fas fa-link"></i></a>

        </h3>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                    -static                    "
>
    <h4 class="phpdocumentor-element__name" id="method_generateEncryptionKey">
        generateEncryptionKey()
        <a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#method_generateEncryptionKey" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php"><a href="files/app-modules-ffmpeg-exporters-encryptshlssegments.html"><abbr title="app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php">EncryptsHLSSegments.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">86</span>

            <a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#source-view.86" class="phpdocumentor-element-found-in__source" data-line="86" data-modal="source-view" data-src="files/app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php.txt"></a>
    </aside>

        <p class="phpdocumentor-summary">Creates a new encryption key.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
            <span class="phpdocumentor-signature__static">static</span>        <span class="phpdocumentor-signature__name">generateEncryptionKey</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
    
    
    

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">string</span>
            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                    -static                    "
>
    <h4 class="phpdocumentor-element__name" id="method_generateEncryptionKeyFilename">
        generateEncryptionKeyFilename()
        <a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#method_generateEncryptionKeyFilename" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php"><a href="files/app-modules-ffmpeg-exporters-encryptshlssegments.html"><abbr title="app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php">EncryptsHLSSegments.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">96</span>

            <a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#source-view.96" class="phpdocumentor-element-found-in__source" data-line="96" data-modal="source-view" data-src="files/app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php.txt"></a>
    </aside>

        <p class="phpdocumentor-summary">Creates a new encryption key filename.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
            <span class="phpdocumentor-signature__static">static</span>        <span class="phpdocumentor-signature__name">generateEncryptionKeyFilename</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
    
    
    

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">string</span>
            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_withEncryptionKey">
        withEncryptionKey()
        <a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#method_withEncryptionKey" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php"><a href="files/app-modules-ffmpeg-exporters-encryptshlssegments.html"><abbr title="app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php">EncryptsHLSSegments.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">108</span>

            <a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#source-view.108" class="phpdocumentor-element-found-in__source" data-line="108" data-modal="source-view" data-src="files/app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php.txt"></a>
    </aside>

        <p class="phpdocumentor-summary">Initialises the disk, info and IV for encryption and sets the key.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">withEncryptionKey</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$key</span></span><span class="phpdocumentor-signature__argument"><span>[</span><span>, </span><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$filename</span><span> = </span><span class="phpdocumentor-signature__argument__default-value">&#039;secret.key&#039;</span><span> ]</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type"><a href="classes/App-Modules-FFmpeg-Exporters-HLSExporter.html"><abbr title="\App\Modules\FFmpeg\Exporters\HLSExporter">HLSExporter</abbr></a>|<a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html"><abbr title="\App\Modules\FFmpeg\Exporters\EncryptsHLSSegments">EncryptsHLSSegments</abbr></a></span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
    
        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$key</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                
            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$filename</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                 = <span class="phpdocumentor-signature__argument__default-value">&#039;secret.key&#039;</span>            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                
            </dd>
            </dl>

    

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type"><a href="classes/App-Modules-FFmpeg-Exporters-HLSExporter.html"><abbr title="\App\Modules\FFmpeg\Exporters\HLSExporter">HLSExporter</abbr></a>|<a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html"><abbr title="\App\Modules\FFmpeg\Exporters\EncryptsHLSSegments">EncryptsHLSSegments</abbr></a></span>
            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_withRotatingEncryptionKey">
        withRotatingEncryptionKey()
        <a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#method_withRotatingEncryptionKey" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php"><a href="files/app-modules-ffmpeg-exporters-encryptshlssegments.html"><abbr title="app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php">EncryptsHLSSegments.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">130</span>

            <a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#source-view.130" class="phpdocumentor-element-found-in__source" data-line="130" data-modal="source-view" data-src="files/app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php.txt"></a>
    </aside>

        <p class="phpdocumentor-summary">Enables encryption with rotating keys. The callable will receive every new
key and the integer sets the number of segments that can
use the same key.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">withRotatingEncryptionKey</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type"><abbr title="\Closure">Closure</abbr>&nbsp;</span><span class="phpdocumentor-signature__argument__name">$callback</span></span><span class="phpdocumentor-signature__argument"><span>[</span><span>, </span><span class="phpdocumentor-signature__argument__return-type">int&nbsp;</span><span class="phpdocumentor-signature__argument__name">$segmentsPerKey</span><span> = </span><span class="phpdocumentor-signature__argument__default-value">1</span><span> ]</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type"><a href="classes/App-Modules-FFmpeg-Exporters-HLSExporter.html"><abbr title="\App\Modules\FFmpeg\Exporters\HLSExporter">HLSExporter</abbr></a>|<a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html"><abbr title="\App\Modules\FFmpeg\Exporters\EncryptsHLSSegments">EncryptsHLSSegments</abbr></a></span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
    
        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$callback</span>
                : <span class="phpdocumentor-signature__argument__return-type"><abbr title="\Closure">Closure</abbr></span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                
            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$segmentsPerKey</span>
                : <span class="phpdocumentor-signature__argument__return-type">int</span>
                 = <span class="phpdocumentor-signature__argument__default-value">1</span>            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                
            </dd>
            </dl>

    

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type"><a href="classes/App-Modules-FFmpeg-Exporters-HLSExporter.html"><abbr title="\App\Modules\FFmpeg\Exporters\HLSExporter">HLSExporter</abbr></a>|<a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html"><abbr title="\App\Modules\FFmpeg\Exporters\EncryptsHLSSegments">EncryptsHLSSegments</abbr></a></span>
            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -private
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_addHandlerToRotateEncryptionKey">
        addHandlerToRotateEncryptionKey()
        <a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#method_addHandlerToRotateEncryptionKey" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php"><a href="files/app-modules-ffmpeg-exporters-encryptshlssegments.html"><abbr title="app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php">EncryptsHLSSegments.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">215</span>

            <a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#source-view.215" class="phpdocumentor-element-found-in__source" data-line="215" data-modal="source-view" data-src="files/app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php.txt"></a>
    </aside>

        <p class="phpdocumentor-summary">Adds a listener and handler to rotate the key on
every new HLS segment.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">private</span>
                    <span class="phpdocumentor-signature__name">addHandlerToRotateEncryptionKey</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">void</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
    
    
    

    

    
</article>
                    <article
        class="phpdocumentor-element
            -method
            -private
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_cleanupHLSEncryption">
        cleanupHLSEncryption()
        <a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#method_cleanupHLSEncryption" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php"><a href="files/app-modules-ffmpeg-exporters-encryptshlssegments.html"><abbr title="app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php">EncryptsHLSSegments.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">293</span>

            <a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#source-view.293" class="phpdocumentor-element-found-in__source" data-line="293" data-modal="source-view" data-src="files/app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php.txt"></a>
    </aside>

        <p class="phpdocumentor-summary">Removes the encryption keys from the temporary disk.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">private</span>
                    <span class="phpdocumentor-signature__name">cleanupHLSEncryption</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type"><a href="classes/App-Modules-FFmpeg-Exporters-HLSExporter.html"><abbr title="\App\Modules\FFmpeg\Exporters\HLSExporter">HLSExporter</abbr></a>|<a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html"><abbr title="\App\Modules\FFmpeg\Exporters\EncryptsHLSSegments">EncryptsHLSSegments</abbr></a></span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
    
    
    

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type"><a href="classes/App-Modules-FFmpeg-Exporters-HLSExporter.html"><abbr title="\App\Modules\FFmpeg\Exporters\HLSExporter">HLSExporter</abbr></a>|<a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html"><abbr title="\App\Modules\FFmpeg\Exporters\EncryptsHLSSegments">EncryptsHLSSegments</abbr></a></span>
            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -private
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_getEncrypedHLSParameters">
        getEncrypedHLSParameters()
        <a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#method_getEncrypedHLSParameters" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php"><a href="files/app-modules-ffmpeg-exporters-encryptshlssegments.html"><abbr title="app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php">EncryptsHLSSegments.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">192</span>

            <a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#source-view.192" class="phpdocumentor-element-found-in__source" data-line="192" data-modal="source-view" data-src="files/app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php.txt"></a>
    </aside>

        <p class="phpdocumentor-summary">Returns an array with the encryption parameters.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">private</span>
                    <span class="phpdocumentor-signature__name">getEncrypedHLSParameters</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
    
    
    

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -private
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_removeHandlerThatRotatesEncryptionKey">
        removeHandlerThatRotatesEncryptionKey()
        <a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#method_removeHandlerThatRotatesEncryptionKey" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php"><a href="files/app-modules-ffmpeg-exporters-encryptshlssegments.html"><abbr title="app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php">EncryptsHLSSegments.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">243</span>

            <a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#source-view.243" class="phpdocumentor-element-found-in__source" data-line="243" data-modal="source-view" data-src="files/app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php.txt"></a>
    </aside>

        <p class="phpdocumentor-summary">Remove the listener at the end of the export to
prevent duplicate event handlers.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">private</span>
                    <span class="phpdocumentor-signature__name">removeHandlerThatRotatesEncryptionKey</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type"><a href="classes/App-Modules-FFmpeg-Exporters-HLSExporter.html"><abbr title="\App\Modules\FFmpeg\Exporters\HLSExporter">HLSExporter</abbr></a>|<a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html"><abbr title="\App\Modules\FFmpeg\Exporters\EncryptsHLSSegments">EncryptsHLSSegments</abbr></a></span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
    
    
    

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type"><a href="classes/App-Modules-FFmpeg-Exporters-HLSExporter.html"><abbr title="\App\Modules\FFmpeg\Exporters\HLSExporter">HLSExporter</abbr></a>|<a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html"><abbr title="\App\Modules\FFmpeg\Exporters\EncryptsHLSSegments">EncryptsHLSSegments</abbr></a></span>
            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -private
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_replaceAbsolutePathsHLSEncryption">
        replaceAbsolutePathsHLSEncryption()
        <a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#method_replaceAbsolutePathsHLSEncryption" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php"><a href="files/app-modules-ffmpeg-exporters-encryptshlssegments.html"><abbr title="app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php">EncryptsHLSSegments.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">264</span>

            <a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#source-view.264" class="phpdocumentor-element-found-in__source" data-line="264" data-modal="source-view" data-src="files/app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php.txt"></a>
    </aside>

        <p class="phpdocumentor-summary">While encoding, the encryption keys are saved to a temporary directory.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">private</span>
                    <span class="phpdocumentor-signature__name">replaceAbsolutePathsHLSEncryption</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type"><abbr title="\Illuminate\Support\Collection">Collection</abbr>&nbsp;</span><span class="phpdocumentor-signature__argument__name">$playlistMedia</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type"><a href="classes/App-Modules-FFmpeg-Exporters-HLSExporter.html"><abbr title="\App\Modules\FFmpeg\Exporters\HLSExporter">HLSExporter</abbr></a>|<a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html"><abbr title="\App\Modules\FFmpeg\Exporters\EncryptsHLSSegments">EncryptsHLSSegments</abbr></a></span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>With this method, we loop through all segment playlists and replace
the absolute path to the keys to a relative ones.</p>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$playlistMedia</span>
                : <span class="phpdocumentor-signature__argument__return-type"><abbr title="\Illuminate\Support\Collection">Collection</abbr></span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                
            </dd>
            </dl>

    

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type"><a href="classes/App-Modules-FFmpeg-Exporters-HLSExporter.html"><abbr title="\App\Modules\FFmpeg\Exporters\HLSExporter">HLSExporter</abbr></a>|<a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html"><abbr title="\App\Modules\FFmpeg\Exporters\EncryptsHLSSegments">EncryptsHLSSegments</abbr></a></span>
            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -private
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_rotateEncryptionKey">
        rotateEncryptionKey()
        <a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#method_rotateEncryptionKey" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php"><a href="files/app-modules-ffmpeg-exporters-encryptshlssegments.html"><abbr title="app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php">EncryptsHLSSegments.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">146</span>

            <a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#source-view.146" class="phpdocumentor-element-found-in__source" data-line="146" data-modal="source-view" data-src="files/app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php.txt"></a>
    </aside>

        <p class="phpdocumentor-summary">Rotates the key and returns the absolute path to the info file. This method
should be executed as fast as possible, or we might be too late for FFmpeg
opening the next segment. That&#039;s why we don&#039;t use the Disk-class magic.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">private</span>
                    <span class="phpdocumentor-signature__name">rotateEncryptionKey</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
    
    
    

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">string</span>
            </section>

</article>
            </section>

        <div class="phpdocumentor-modal" id="source-view">
    <div class="phpdocumentor-modal-bg" data-exit-button></div>
    <div class="phpdocumentor-modal-container">
        <div class="phpdocumentor-modal-content">
            <pre style="max-height: 500px; overflow-y: scroll" data-src="files/app/Modules/FFmpeg/Exporters/EncryptsHLSSegments.php.txt" class="language-php line-numbers linkable-line-numbers"></pre>
        </div>
        <button data-exit-button class="phpdocumentor-modal__close">&times;</button>
    </div>
</div>

    <script type="text/javascript">
        (function () {
            function loadExternalCodeSnippet(el, url, line) {
                Array.prototype.slice.call(el.querySelectorAll('pre[data-src]')).forEach((pre) => {
                    const src = url || pre.getAttribute('data-src').replace(/\\/g, '/');
                    const language = 'php';

                    const code = document.createElement('code');
                    code.className = 'language-' + language;
                    pre.textContent = '';
                    pre.setAttribute('data-line', line)
                    code.textContent = 'Loading…';
                    pre.appendChild(code);

                    var xhr = new XMLHttpRequest();

                    xhr.open('GET', src, true);

                    xhr.onreadystatechange = function () {
                        if (xhr.readyState !== 4) {
                            return;
                        }

                        if (xhr.status < 400 && xhr.responseText) {
                            code.textContent = xhr.responseText;
                            Prism.highlightElement(code);
                            d=document.getElementsByClassName("line-numbers");
                            d[0].scrollTop = d[0].children[1].offsetTop;
                            return;
                        }

                        if (xhr.status === 404) {
                            code.textContent = '✖ Error: File could not be found';
                            return;
                        }

                        if (xhr.status >= 400) {
                            code.textContent = '✖ Error ' + xhr.status + ' while fetching file: ' + xhr.statusText;
                            return;
                        }

                        code.textContent = '✖ Error: An unknown error occurred';
                    };

                    xhr.send(null);
                });
            }

            const modalButtons = document.querySelectorAll("[data-modal]");
            const openedAsLocalFile = window.location.protocol === 'file:';
            if (modalButtons.length > 0 && openedAsLocalFile) {
                console.warn(
                    'Viewing the source code is unavailable because you are opening this page from the file:// scheme; ' +
                    'browsers block XHR requests when a page is opened this way'
                );
            }

            modalButtons.forEach(function (trigger) {
                if (openedAsLocalFile) {
                    trigger.setAttribute("hidden", "hidden");
                }

                trigger.addEventListener("click", function (event) {
                    event.preventDefault();
                    const modal = document.getElementById(trigger.dataset.modal);
                    if (!modal) {
                        console.error(`Modal with id "${trigger.dataset.modal}" could not be found`);
                        return;
                    }
                    modal.classList.add("phpdocumentor-modal__open");

                    loadExternalCodeSnippet(modal, trigger.dataset.src || null, trigger.dataset.line)
                    const exits = modal.querySelectorAll("[data-exit-button]");
                    exits.forEach(function (exit) {
                        exit.addEventListener("click", function (event) {
                            event.preventDefault();
                            modal.classList.remove("phpdocumentor-modal__open");
                        });
                    });
                });
            });
        })();
    </script>

    </article>
                                </section>
                <section class="phpdocumentor-on-this-page__sidebar">
                                
    <section class="phpdocumentor-on-this-page__content">
        <strong class="phpdocumentor-on-this-page__title">On this page</strong>

        <ul class="phpdocumentor-list -clean">
            <li class="phpdocumentor-on-this-page-section__title">Table Of Contents</li>
            <li>
                <ul class="phpdocumentor-list -clean">
                                                            <li><a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#toc-properties">Properties</a></li>
                                                            <li><a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#toc-methods">Methods</a></li>
                                    </ul>
            </li>
                                    <li class="phpdocumentor-on-this-page-section__title">Properties</li>
            <li>
                <ul class="phpdocumentor-list -clean">
                                            <li class=""><a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#property_encryptionIV">$encryptionIV</a></li>
                                            <li class=""><a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#property_encryptionKey">$encryptionKey</a></li>
                                            <li class=""><a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#property_encryptionKeyFilename">$encryptionKeyFilename</a></li>
                                            <li class=""><a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#property_encryptionSecretsRoot">$encryptionSecretsRoot</a></li>
                                            <li class=""><a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#property_listener">$listener</a></li>
                                            <li class=""><a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#property_nextEncryptionFilenameAndKey">$nextEncryptionFilenameAndKey</a></li>
                                            <li class=""><a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#property_onNewEncryptionKey">$onNewEncryptionKey</a></li>
                                            <li class=""><a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#property_rotateEncryptiongKey">$rotateEncryptiongKey</a></li>
                                            <li class=""><a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#property_segmentsOpened">$segmentsOpened</a></li>
                                            <li class=""><a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#property_segmentsPerKey">$segmentsPerKey</a></li>
                                    </ul>
            </li>
                                    <li class="phpdocumentor-on-this-page-section__title">Methods</li>
            <li>
                <ul class="phpdocumentor-list -clean">
                                            <li class=""><a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#method_generateEncryptionKey">generateEncryptionKey()</a></li>
                                            <li class=""><a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#method_generateEncryptionKeyFilename">generateEncryptionKeyFilename()</a></li>
                                            <li class=""><a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#method_withEncryptionKey">withEncryptionKey()</a></li>
                                            <li class=""><a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#method_withRotatingEncryptionKey">withRotatingEncryptionKey()</a></li>
                                            <li class=""><a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#method_addHandlerToRotateEncryptionKey">addHandlerToRotateEncryptionKey()</a></li>
                                            <li class=""><a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#method_cleanupHLSEncryption">cleanupHLSEncryption()</a></li>
                                            <li class=""><a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#method_getEncrypedHLSParameters">getEncrypedHLSParameters()</a></li>
                                            <li class=""><a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#method_removeHandlerThatRotatesEncryptionKey">removeHandlerThatRotatesEncryptionKey()</a></li>
                                            <li class=""><a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#method_replaceAbsolutePathsHLSEncryption">replaceAbsolutePathsHLSEncryption()</a></li>
                                            <li class=""><a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#method_rotateEncryptionKey">rotateEncryptionKey()</a></li>
                                    </ul>
            </li>
                    </ul>
    </section>

                </section>
                            </div>
            <section data-search-results class="phpdocumentor-search-results phpdocumentor-search-results--hidden">
    <section class="phpdocumentor-search-results__dialog">
        <header class="phpdocumentor-search-results__header">
            <h2 class="phpdocumentor-search-results__title">Search results</h2>
            <button class="phpdocumentor-search-results__close"><i class="fas fa-times"></i></button>
        </header>
        <section class="phpdocumentor-search-results__body">
            <ul class="phpdocumentor-search-results__entries"></ul>
        </section>
    </section>
</section>
        </div>
        <a href="classes/App-Modules-FFmpeg-Exporters-EncryptsHLSSegments.html#top" class="phpdocumentor-back-to-top"><i class="fas fa-chevron-circle-up"></i></a>

    </main>

    <script>
        cssVars({});
    </script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/prism.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-highlight/prism-line-highlight.min.js"></script>
</body>
</html>
